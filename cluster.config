
akka {

stdout-loglevel = DEBUG
loglevel = DEBUG
akka.actor.serialize-messages = on
loggers=["Akka.Logger.Serilog.SerilogLogger, Akka.Logger.Serilog"]
actor {
provider = "Akka.Cluster.ClusterActorRefProvider, Akka.Cluster"
DEBUG {
log-config-on-start = off
receive = off
autoreceive = on
lifecycle = on
event-stream = on
unhandled = on
stdout-loglevel = DEBUG
log-received-messages = off
}
}
remote {
helios.tcp {
port = 8091
hostname = __hostname__
}
}

persistence{
journal {
plugin = "akka.persistence.journal.sql-server"
sql-server {
class = "Akka.Persistence.SqlServer.Journal.SqlServerJournal, Akka.Persistence.SqlServer"
schema-name = dbo
auto-initialize = on
connection-string = "Server=API-LT-022\\SQLEXPRESS;Database=akkapersistence;Trusted_Connection=True;"
}
}
snapshot-store{
plugin = "akka.persistence.snapshot-store.sql-server"
sql-server {
class = "Akka.Persistence.SqlServer.Snapshot.SqlServerSnapshotStore, Akka.Persistence.SqlServer"
schema-name = dbo
auto-initialize = on
connection-string = "Server=API-LT-022\\SQLEXPRESS;Database=akkapersistence;Trusted_Connection=True;"
}
}
}


cluster {
seed-nodes = ["akka.tcp://ClusterSystem@__hostname__:8091"]
roles = [crawler]
}
}

my-dispatcher {
type = TaskDispatcher
throughput = 1
throughput-deadline-time = 0ms
}

application {
environment = app
#environment = devMock

devMock {
useFixedConfigFile = true
FixedConfigClassName = DevMockConfig
}

app {
useFixedConfigFile = false

ApiEndPoint = "http://freegeek.azurewebsites.net/api/shop"

Environment = "Prod"

CsvLineValidationRegex = "^(\\d+)\\s?,([^,]*?),([^,]*?),(\\d+\\/\\d+\\/\\d+[^,]\\s*?)$"
HeaderValidationRegex = "^data id,shop name,city,created on$"
DateValidationRegex = "(\\d+?\\/\\d+?\\/\\d+?[^,]\\s*?)$"

CrawlerActorsCount = 4
HttpTimeoutInMiniseconds = 20000
HttpRetries = 3
WorkerIdleTime = 20
InitialApiErrorThresholdToShutdownSystem = 3

OutputFileHeader = "data id,sale"
StopIfDestinationFileExists = false
WriteWaitCycleInMiniseconds = 1000

ReadLinesBatchSize = 500
InternalChunkSize = 50
DataDistributorActorCount = 1
LoadFactor = 5000
RemoteHost1=axu
HowToScale=1

}
}
